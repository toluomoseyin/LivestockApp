@model LoginViewModel;

@{
    ViewBag.Title = "Login";
    Layout = "_Layout";

    var username = !string.IsNullOrWhiteSpace(ViewBag.UserName) ? ViewBag.UserName : "";
    var token = !string.IsNullOrWhiteSpace(ViewBag.Token) ? ViewBag.Token : "";

    var returnUrl = !string.IsNullOrWhiteSpace(ViewBag.ReturnUrl) ? ViewBag.ReturnUrl : "";
}

<div class="col-sm-8 d-flex rounded mx-auto" style="background:#fff !important; margin-top:5% !important; border:1px solid #eee !important">
    <div class="col-sm-12" >
        <div class="login_card_header" style="padding-bottom:0px; margin-bottom:0px">
            <div class="text-center my-4"><h1 style="color: #2078BF">Login</h1></div>
            <div style="font:12px">
                @if (ViewBag.LoginErrMsg)
                {
                    <div class="d-flex justify-content-center ">

                        <div style="width:100%; text-align:justify;" asp-validation-summary="All" class="alert alert-danger forgotPass-list-error" id="summary"></div>
                  
                    </div>

                }
            </div>
        </div>

        <div class="d-flex justify-content-center login-box-flexed" style="">
            <div class="col-lg-6 mr-2" style="padding-bottom:0px; margin-bottom:0px;">

                <form asp-controller="Account" asp-action="Login" asp-route-returnUrl="@returnUrl" method="post">
                    <div class="my-4">
                        <div class="mb-4">
                            <label asp-for="Email" class="login_input_label">Email</label>
                            <div class="relative">
                                <input asp-for="Email" class="login_input form-control" placeholder="Enter your email"
                                       type="text" required />
                                <div class="login_input_icon">
                                    <img src="~/images/assets/form-user.png" alt="" />
                                </div>
                            </div>
                            <div>
                                <span class="text-danger font-italic small" asp-validation-for="@Model.Email"></span>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label asp-for="Password" class="login_input_label">Password</label>
                            <div class="relative">
                                <input asp-for="Password" class="login_input form-control"
                                       placeholder="Enter your password" type="password" required />
                                <div class="login_input_icon">
                                    <img src="~/images/assets/form-lock.png" alt="" />
                                </div>

                            </div>
                            <div>
                                <span class="text-danger font-italic small" asp-validation-for="@Model.Password"></span>
                            </div>
                        </div>
                    </div>

                    <div class="mb-4 d-flex justify-content-between">
                        <div>
                            <input asp-for="RememberMe" class="login_remember_me_check" type="checkbox" />
                            <label asp-for="RememberMe" class="login_remember_me_label" for="">Remember Me</label>
                        </div>

                        <div>
                            <a class="text-sm text-dark" asp-controller="Account" asp-action="ForgotPassword">
                                <small>I forgot my password</small>
                            </a>
                        </div>
                    </div>

                    <div class="mb-4">
                        <button class="login_submit_button" type="submit">Login</button>
                    </div>
                </form>

            </div>
            
            <!-- External Login -->
            <div class="col-lg-6">
                <br /><br />
                <div class="mb-4 text-center">
                    <div class="relative">
                        <a class="login_google_link" asp-controller="Account" asp-action="GoogleLogin" asp-route-returnUrl="@returnUrl">
                            Connect with Google
                        </a>
                        <span class="login_google_icon">
                            <svg height="1.25rem" width="1.25rem" version="1.1" id="Layer_1"
                                 xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                                 y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;"
                                 xml:space="preserve">
                            <path style="fill:#FBBB00;" d="M113.47,309.408L95.648,375.94l-65.139,1.378C11.042,341.211,0,299.9,0,256
                                                        c0-42.451,10.324-82.483,28.624-117.732h0.014l57.992,10.632l25.404,57.644c-5.317,15.501-8.215,32.141-8.215,49.456
                                                        C103.821,274.792,107.225,292.797,113.47,309.408z" />
                            <path style="fill:#518EF8;"
                                  d="M507.527,208.176C510.467,223.662,512,239.655,512,256c0,18.328-1.927,36.206-5.598,53.451
                                                        c-12.462,58.683-45.025,109.925-90.134,146.187l-0.014-0.014l-73.044-3.727l-10.338-64.535
                                                        c29.932-17.554,53.324-45.025,65.646-77.911h-136.89V208.176h138.887L507.527,208.176L507.527,208.176z" />
                            <path style="fill:#28B446;" d="M416.253,455.624l0.014,0.014C372.396,490.901,316.666,512,256,512
                                                        c-97.491,0-182.252-54.491-225.491-134.681l82.961-67.91c21.619,57.698,77.278,98.771,142.53,98.771
                                                        c28.047,0,54.323-7.582,76.87-20.818L416.253,455.624z" />
                            <path style="fill:#F14336;" d="M419.404,58.936l-82.933,67.896c-23.335-14.586-50.919-23.012-80.471-23.012
                                                        c-66.729,0-123.429,42.957-143.965,102.724l-83.397-68.276h-0.014C71.23,56.123,157.06,0,256,0
                                                        C318.115,0,375.068,22.126,419.404,58.936z" />
                            </svg>
                        </span>
                    </div>
                </div>
                <center>
                    <small style="color:#06864D">
                        Don't have an account yet?
                        <a asp-controller="Account" asp-action="UserRegistration" class="login_signup_link font-weight-bold">
                            Sign Up
                        </a>
                    </small>
                </center>
               
            </div>
        </div>
    </div>
</div>


@section scripts{
    @{
        <partial name="_ValidationScriptsPartial" />
    }
}